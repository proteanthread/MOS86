GFB	SEGMENT AT 0FACEH

;-------------------------- GFB PREFIX ------------------------------;

	 DB    ?	; RESERVED 
GFBTYPE  DB    ?	; 'G' TO INDICATE GFB
	 DB    6 DUP(?) ; RESERVED
GFBNEXT  DW    ?	; POINTER TO NEXT GFB
GFBPREV  DW    ?	; POINTER TO PREVIOUS GFB
	 DB    4 DUP(?) ; RESERVED 

;------------------------ END OF PREFIX -----------------------------;

;--------------  DOS Share File Table Information -------------------;
; Modified 09/03/88 SAH Windows - Info found in MS - Papers book     ;
; N/I means that field is not currently implemented 		     ;	
; Modified 01/21/91 SAH increase support for tracing SFT 

GFBNSFT	DD	?		;[00] Next SFT on List 
GFBNFILE DW	?		;[04] No of files associated with SFT
GFBCNT  DW	0		;[06] Reference Count			
GFBOMOD DW	0		;[08] Open Mode				N/I
GFBATTR DB	?		;[0A] FILE ATTRIBUTE
GFBWFLG DW	?		;[0B] W Flags				N/I
GFBDRVR DD	?		;[0D] ADDRESS OF DEVICE DRIVER
GFBCBOF DW	?		;[11] FIRST CLUSTER
GFBTIME DW	?		;[13] TIME OF LAST MODIFICATION
GFBDATE DW	?		;[15] DATE OF LAST MODIFICATION
GFBSIZE DD	?		;[17] 32-BIT SIZE OF FILE IN BYTES
GFBPOS	DD	?		;[1B] File Position			N/I
GFBRCMAX DW	?		;[1F] LAST CLUSTER RELATIVE NUM WITHIN FILE
GFBCMAX DW	?		;[21] LAST CLUSTER ACCESSED
GFBBLOCK DW	?		;[23] Block Number			N/I
GFBDINDEX DB    ?		;[25] Directory Index			N/I
GFBNAME DB	11 DUP(?)	;[26] DEVICE NAME OR FILE NAME AND EXTENSION

;------------------ NON - DOS Share File Table -------------------------;

GFBTFB	DW	?		;ADDRESS OF TFB LIST FOR THIS GFB
GFBRLB	DW	?		;ADDRESS OF FIRST RLB FOR THIS GFB (0 if none)
GFBDEV	DB	?		;NZ IF GFB REFERS TO A CHARACTER DEVICE

;FOLLOWING APPLIES IF GFB REFERS TO A FILE

GFBBDB	DW	?		;ADDRESS OF BLOCK DEVICE BLOCK
GFBDLOC DW	?		;SECTOR LOCATION OF DIRECTORY ENTRY
GFBHLOC DW	?		;HIGH WORD OF DIRECTORY SECTOR
GFBDOFS DW	?		;OFFSET WITHIN SECTOR OF DIRECTORY ENTRY

GFBKEY	DD	?		;KEY FOR FILE ENCRYPTION/DECRYPTION
GFBWRTN DB	?		;NZ IF FILE WRITTEN SINCE GFB ALLOCATED
GFBCLASS DB	?
GFBINVLD DB	?		;NZ = GFB INVALID DUE TO MEDIA CHANGE
GFBTSPDD DW	?		;== TCB IF TASK SPECIFIC DEVICE DRIVER, ELSE 0

GFBLEN	EQU	$-GFB
GFB	ENDS
